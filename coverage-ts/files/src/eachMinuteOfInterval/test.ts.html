
  <!DOCTYPE html>
  <html>
    <head>
      <title>test.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/eachMinuteOfInterval/test.ts</td><td class="">100.00%</td><td class="">80%</td><td class="">123</td><td class="">123</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">/* eslint-env mocha */

import assert from &#x27;assert&#x27;
import { describe, it } from &#x27;vitest&#x27;

import eachMinuteOfInterval from &#x27;./index&#x27;

describe(&#x27;eachMinuteOfInterval&#x27;, () =&gt; {
  it(&#x27;should return an array of Date objects containing a Date for each minute between the interval&#x27;, () =&gt; {
    const result = eachMinuteOfInterval({
      start: new Date(2020, 10, 14, 13, 0),
      end: new Date(2020, 10, 14, 13, 5),
    })

    assert.deepStrictEqual(result, [
      new Date(2020, 10, 14, 13, 0),
      new Date(2020, 10, 14, 13, 1),
      new Date(2020, 10, 14, 13, 2),
      new Date(2020, 10, 14, 13, 3),
      new Date(2020, 10, 14, 13, 4),
      new Date(2020, 10, 14, 13, 5),
    ])
  })

  it(&#x27;should handle all the minutes that are not in the begining&#x27;, () =&gt; {
    const result = eachMinuteOfInterval({
      start: new Date(2020, 10, 14, 13, 0, 33),
      end: new Date(2020, 10, 14, 13, 2),
    })

    assert.deepStrictEqual(result[0], new Date(2020, 10, 14, 13))
    assert.deepStrictEqual(result[2], new Date(2020, 10, 14, 13, 2))
  })

  it(&#x27;should accept timestamps&#x27;, () =&gt; {
    const start = new Date(2020, 10, 14, 13, 0).getTime()
    const end = new Date(2020, 10, 14, 13, 2).getTime()

    const result = eachMinuteOfInterval({
      start,
      end,
    })

    assert.deepStrictEqual(result, [
      new Date(2020, 10, 14, 13, 0),
      new Date(2020, 10, 14, 13, 1),
      new Date(2020, 10, 14, 13, 2),
    ])
  })

  it(&#x27;throws an exception if the start date is after the end date&#x27;, () =&gt; {
    const block = eachMinuteOfInterval.bind(null, {
      start: new Date(2014, 10, 14, 10),
      end: new Date(2014, 10, 14, 5),
    })
    assert.throws(block, RangeError)
  })

  it(&#x27;treats intervals shorter than a minute as valid&#x27;, () =&gt; {
    const block = eachMinuteOfInterval.bind(null, {
      start: new Date(2014, 10, 14, 10, 1, 0),
      end: new Date(2014, 10, 14, 10, 1, 1),
    })
    assert.doesNotThrow(block, RangeError)
  })

  describe(&#x27;options.step&#x27;, () =&gt; {
    const interval = {
      start: new Date(2020, 9, 14, 13, 1),
      end: new Date(2020, 9, 14, 13, 7),
    }

    const stepError =
      /^RangeError: `options.step` must be a number equal to or greater than 1$/

    it(&#x27;returns an array with starts of hours from the hour of the start date to the hour of the end date with the given step&#x27;, () =&gt; {
      const result = eachMinuteOfInterval(interval, { step: 3 })
      assert.deepStrictEqual(result, [
        new Date(2020, 9, 14, 13, 1),
        new Date(2020, 9, 14, 13, 4),
        new Date(2020, 9, 14, 13, 7),
      ])
    })

    it(&#x27;throws RangeError error if `options.step` is less than 1&#x27;, () =&gt; {
      assert.throws(
        () =&gt; eachMinuteOfInterval(interval, { step: 0 }),
        stepError
      )
      assert.throws(
        () =&gt; eachMinuteOfInterval(interval, { step: -3 }),
        stepError
      )
    })

    it(&#x27;throws RangeError error if `options.step` is NaN&#x27;, () =&gt; {
      assert.throws(
        () =&gt;
          eachMinuteOfInterval(interval, {
            step: NaN,
          }),
        stepError
      )
      assert.throws(
        () =&gt; eachMinuteOfInterval(interval, { step: NaN }),
        stepError
      )
    })
  })
})
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 08 Nov 2023 22:58:18 GMT</p>
    </body>
  </html>
  