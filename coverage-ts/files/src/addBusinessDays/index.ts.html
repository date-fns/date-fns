
  <!DOCTYPE html>
  <html>
    <head>
      <title>index.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/addBusinessDays/index.ts</td><td class="">100.00%</td><td class="">80%</td><td class="">72</td><td class="">72</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import constructFrom from &#x27;../constructFrom/index&#x27;
import isSaturday from &#x27;../isSaturday/index&#x27;
import isSunday from &#x27;../isSunday/index&#x27;
import isWeekend from &#x27;../isWeekend/index&#x27;
import toDate from &#x27;../toDate/index&#x27;

/**
 * @name addBusinessDays
 * @category Date Extension Helpers
 * @summary Add the specified number of business days (mon - fri) to the given date.
 *
 * @description
 * Add the specified number of business days (mon - fri) to the given date, ignoring weekends.
 *
 * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).
 *
 * @param date - The date to be changed
 * @param amount - The amount of business days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.
 *
 * @returns The new date with the business days added
 *
 * @example
 * // Add 10 business days to 1 September 2014:
 * const result = addBusinessDays(new Date(2014, 8, 1), 10)
 * //=&gt; Mon Sep 15 2014 00:00:00 (skipped weekend days)
 */
export default function addBusinessDays&lt;DateType extends Date&gt;(
  date: DateType | number,
  amount: number
): DateType {
  const _date = toDate(date)
  const startedOnWeekend = isWeekend(_date)

  if (isNaN(amount)) return constructFrom(date, NaN)

  const hours = _date.getHours()
  const sign = amount &lt; 0 ? -1 : 1
  const fullWeeks = Math.trunc(amount / 5)

  _date.setDate(_date.getDate() + fullWeeks * 7)

  // Get remaining days not part of a full week
  let restDays = Math.abs(amount % 5)

  // Loops over remaining days
  while (restDays &gt; 0) {
    _date.setDate(_date.getDate() + sign)
    if (!isWeekend(_date)) restDays -= 1
  }

  // If the date is a weekend day and we reduce a dividable of
  // 5 from it, we land on a weekend date.
  // To counter this, we add days accordingly to land on the next business day
  if (startedOnWeekend &amp;&amp; isWeekend(_date) &amp;&amp; amount !== 0) {
    // If we&#x27;re reducing days, we want to add days until we land on a weekday
    // If we&#x27;re adding days we want to reduce days until we land on a weekday
    if (isSaturday(_date)) _date.setDate(_date.getDate() + (sign &lt; 0 ? 2 : -1))
    if (isSunday(_date)) _date.setDate(_date.getDate() + (sign &lt; 0 ? 1 : -2))
  }

  // Restore hours to avoid DST lag
  _date.setHours(hours)

  return _date
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 08 Nov 2023 22:58:15 GMT</p>
    </body>
  </html>
  